const Olist = 
[`<svg id="o-vector-logo" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
viewBox="0 0 903 903" style="enable-background:new 0 0 903 903;" xml:space="preserve">
<title>Back to homepage</title>
<path d="M463.8,902.2c-5.7,0-11.3-0.1-17-0.3c-65.4-2.3-128-16.9-186.2-43.5c-57.3-26.2-107.4-62.6-148.8-108.2
C34.2,664.7-4.7,555.3,2.3,442.3c7-113.9,56.4-222,139-304.5c40.2-40.1,86.3-72.3,137.1-95.5C332.1,17.7,388.7,4.2,446.6,2.1
c59.9-2.2,118.7,8.6,174.6,31.9c52.6,22,100.3,54.2,141.8,95.7c82.7,82.8,132,194.3,138.9,314.1c3.6,62.3-5.4,122.7-26.7,179.7
c-20.8,55.7-52.5,105.5-94,147.9c-42.5,43.4-93,76.9-150.1,99.4C578.1,891.7,521.9,902.2,463.8,902.2z M461.4,301.8
c-1.3,0-2.6,0-3.9,0.1c-79.3,2.9-150.6,75.6-155.7,158.9c-2.5,40.4,16.1,70,32.2,87.7c29.4,32.4,74.3,51.9,123.3,53.6
c2.1,0.1,4.2,0.1,6.3,0.1c41,0,77.4-14.3,103.1-40.5c17.9-18.3,38.6-50.5,35.7-100.6c-2.7-46.2-21-88.6-51.6-119.3
C524.8,315.9,493.3,301.8,461.4,301.8z"/>
</svg>
`,

`<svg id="o-vector-logo" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
viewBox="0 0 1000 1000" style="enable-background:new 0 0 1000 1000;" xml:space="preserve">
<title>Back to homepage</title>
<g>
<path d="M500.1,996.7c-68-6.6-133.9-25.5-196-51.9c-59.6-25.5-112.9-56.6-158.7-94.9c-45.4-38-80.9-81.7-105.8-136
   C14.1,658.1,1.1,592.8,1.1,517.7c0-74.7,13-154.9,38.6-231.6c24.8-74.3,60.4-141.4,105.8-191.5c45.7-50.7,99.1-81.1,158.7-89.8
   c62.1-9.3,128.1,5.2,196,34c68,28.8,133.9,69.1,196,110.8C755.7,189.7,809.1,229,854.8,267c45.4,37.9,80.9,73.1,105.8,112.6
   c25.6,40.6,38.6,84.9,38.6,138.1c0,53-13,112.1-38.6,173.6c-24.8,59.5-60.4,118.2-105.8,168.1c-45.7,50.4-99.1,89.1-158.7,112.4
   C634,996.3,568.1,1003.3,500.1,996.7z M500.1,298.8c-60.8-20.8-116-13-156,19.5c-40,32-64.7,88.7-64.7,153.4
   c0,130.2,99,241.6,220.7,264.9c121.7,23.4,220.7-61.7,220.7-172.9c0-56-24.7-108.8-64.7-156.1C616.1,360.8,560.9,319.5,500.1,298.8
   z"/>
</g>
</svg>`,

`<svg id="o-vector-logo" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 1000 1000" style="enable-background:new 0 0 1000 1000;" xml:space="preserve">
<title>Back to homepage</title>
<g>
	<path d="M501.2,992.4c-70.7-7.7-140.6-19.2-207.5-40.9c-66.5-21.6-130.1-53.5-179.2-99.6c-50.9-46.9-82.8-104.5-97.4-164.3
		C1.2,622.9,3.5,560.3,12.3,497.2C21.7,434,37,371.7,65.2,307.1c26.1-59.6,64.2-117.1,114-164C227.4,97,283.2,65.1,337.8,44
		c55.1-21.3,109-31.7,163.4-37.7c54.4-5,108.7-5.3,164.2,7.8C720.6,27,776.9,53.5,825,98.9c49.9,46.2,87.6,108,113.2,176.1
		c27.7,73.7,42.5,149.2,51.9,226.5c8.8,77.2,11.6,153.8-3.7,228.8c-14.1,69.2-45.5,132.1-96.6,178c-49.1,45.3-113.2,70.5-180.2,81.8
		C642.2,1001.5,571.9,999.1,501.2,992.4z M495.8,324.5c-58.9,0.6-110.4-58-147.9-29.3c-8.6,6-12.6,57.9-13.4,114.7
		c-0.9,56.5,1.4,117.9,1,135.3c-0.9,35.6-9.1,59,8.7,72.1c39.3,29.1,98.6,5,160.6,6c62.1,1.3,120.8,29.3,160,0.8
		c17.7-12.9,4.3-39.2,3.5-76.6c-0.4-37.8-43.8-203.9-61.5-215C567.9,304.9,554,323.2,495.8,324.5z"/>
</g>
</svg>`,

`<svg id="o-vector-logo" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
viewBox="0 0 1000 1000" style="enable-background:new 0 0 1000 1000;" xml:space="preserve">
<title>Back to homepage</title>
<g>
<path d="M501.6,992.2c-78.8-6-155.5-26.2-224.7-66.2c-67.6-38.3-125.1-91.8-169.9-143c-45.6-52.7-75.7-97.2-90.8-138.8
   c-15.9-43.9-14.4-87.6,1-150.7C32.5,431.5,60.6,353.8,97.3,281c35-69.6,76.1-126.9,121-164.8c44.2-37.9,90-58.2,137.3-75.6
   c48.5-17.1,96.6-32.3,145.9-36.7c49.3-4.5,97.4,6.4,145.9,40c47.3,32,93,82.1,137.3,133.2c44.9,52.5,86,100.1,121,147.9
   c36.7,50.3,64.9,103.6,80.2,177.7c15.3,72.8,16.8,161.9,1,243.1c-15,77.6-45.2,139.6-90.8,177.2c-44.8,37.7-102.4,53-169.9,62.3
   C657.1,994,580.4,998.2,501.6,992.2z M501.6,414.4c-52.8-28.5-97.8-11.2-100.8,37.6c-5.1,100.4-12.2,82.8,100.8,142.9
   c58.4,31.4,103.3,11.7,99-39.8C593,456.2,554.9,442.9,501.6,414.4z"/>
</g>
</svg>
`,

`<svg id="o-vector-logo" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
viewBox="0 0 1000 1000" style="enable-background:new 0 0 1000 1000;" xml:space="preserve">
<title>Back to homepage</title>
<path d="M967.4,500.4c11.5,73.2,22.7,144,27.7,208c4.8,62.2,3.5,115.2-10.6,158.2c-14.1,43.4-40.9,74.5-84.6,95.6
c-45.4,21.9-107.4,32-184.7,32.1c-77.1-0.1-164.6-10.2-254.7-32.1c-86.3-21.1-171-52.2-244.5-95.6c-73-43-131.2-96-168.2-158.2
c-38.2-64-51.9-134.9-40.3-208c11.5-73.2,47.6-144,101.9-208c52.6-62.2,119.8-115.2,193-158.2C376.1,90.8,452,59.6,522.8,38.6
c74-21.9,138.8-32,192.3-32.1c53.7,0.1,93,10.2,122.3,32.1c28.2,21.1,46.2,52.2,60.7,95.6c14.3,43,24.6,96,35.4,158.2
C944.5,356.4,955.8,427.2,967.4,500.4z M389.4,539.8c6.9,116.5-7.9,170-8.2,196.1c1.4,25.8,17.3,24.1,127.3,24.1
c108.4-0.2,149.5-6.3,150.8-40.8c3-34.6-33.7-97.5-41.5-214.5c-1.4-58.3,6.9-87.8,13.1-99.6c6.5-11.8,10.8-5.9,8.7,7.3
c-6.3,26.2-32,81.9-132.1,81.9c-100.5,0-126.8-46.8-127.4-64.5c-0.9-8.8,3.1-10.4,5.3,4.7C387.9,449.6,388.7,481.5,389.4,539.8z"/>
</svg>
`];

function cycleThroughElements(listofelements, container, interval) {
	let i = 0;
	function swapElement() {
		container.innerHTML = listofelements[i];
		i++
		if(i >= listofelements.length) {i = 0}
	}
	swapElement();
	setInterval(() => {
		swapElement();
	}, interval);
}
function setRandomElement(listofelements, container) {
	let i = Math.floor(Math.random()*listofelements.length);
	container.innerHTML = listofelements[i];
}

let whatevname = "?"
let urlprefix = ``;

// These reflect *not* being on the page or homepage:
let indexlink = `<a id='logocontainer' href='../index.html'>${Olist[0]}</a>`
let bloglink = `<a href='../blog/index.html'>Blog</a>`
let worklink = `<a href='../work/index.html'>Work</a>`
let whatevlink = `<a href='../whatev/index.html'>${whatevname}</a>`

if (typeof page !== 'undefined') {
	if(page == 'index') {
		indexlink = `<a id="logocontainer" class="active" href="">${Olist[0]}</a>`;
		bloglink = `<a href='blog/index.html'>Blog</a>`
		worklink = `<a href='work/index.html'>Work</a>`
		whatevlink = `<a href='whatev/index.html'>${whatevname}</a>`
	}
	else if(page == 'blog') {
		bloglink = `<a class="active" href='index.html'>Blog</a>`
		indexlink = indexlink.replace(Olist[0], Olist[3])
	}
	else if(page == 'work') {
		worklink = `<a class="active" href="index.html">Work</a>`
		indexlink = indexlink.replace(Olist[0], Olist[1])

	}
	else if(page == 'portfolio') {
		worklink = `<a class="active" href="index.html">Work</a>`;
		indexlink = indexlink.replace(Olist[0], Olist[1])
		document.querySelector(".content").innerHTML += `<a href="../work/index.html">&larr; back to Work</a>`
	}
	else if(page == 'whatev') {
		indexlink = indexlink.replace(Olist[0], Olist[2])
		whatevname = "<br>JUNK DRAWER WHO CARES"
		whatevlink = `<a class="active" href='../whatev/index.html'>${whatevname}</a>`
	}
}







const headerinjection = 
`<div class="sitemap">
	<div id="indexlinkcontainer">${indexlink}</div>
	<div class="sublinks">[${bloglink}; ${worklink}; ${whatevlink}]</div>
</div>`;

document.getElementsByClassName("header")[0].innerHTML = headerinjection;


function toggleSublinks() {
	document.querySelector(".sublinks").classList.toggle("visible");
	console.log("clicked");
	document.querySelector(".sublinks").addEventListener("click", function() {
		document.querySelector(".sublinks").classList.remove("visible");
	})
}
// setRandomElement(Olist, document.querySelector("#logocontainer"));

//darkmode injection
const darkmodecontainer = 
`<div class="darkmodecontainer">
	<label for="darkmode">dark</label>
	<input type="checkbox" name="mode" id="darkmode" value="darkmode">
</div>`;
document.querySelector(".header").innerHTML = `${document.querySelector(".header").innerHTML}${darkmodecontainer}`;

let footer = document.createElement("div");
footer.classList.add("footer");
footer.innerHTML = 
`<a href="mailto:norredoliver@gmail.com">email:</a><br>
norredoliver@gmail.com<br>
<br>
<a href="https://olivernorred.com/resume">Resume</a><br>
<a href="https://github.com/olivernorred">Github</a><br>
<a href="https://www.instagram.com/olivernorred/">Instagram</a><br>
<a href="https://twitter.com/olivernorred">Twitter</a><br>
<a href="https://www.youtube.com/c/OliverNorred">YouTube</a>`

document.querySelector(".container").appendChild(footer);

if(document.querySelector(".footnotes")) {
	

	for (let i = 0; i < document.querySelectorAll(".footnotes")[0].querySelectorAll("li").length; i++) {
		const element = document.querySelectorAll(".footnotes")[0].querySelectorAll("li")[i];

		element.id = `footnote${i+1}`
		
	}
}





// DARK MODE

function updateDarkMode() {
	if(localStorage.getItem("dark") === "true") {
		document.body.classList.add("darkmode");
		document.querySelector("#darkmode").checked = true;
	}
	else {
		document.body.classList.remove("darkmode");
		document.querySelector("#darkmode").checked = false;
	}
	console.log("updated dark mode");
}
updateDarkMode();

document.querySelector("#darkmode").addEventListener("click", () => {
	
	if(localStorage.getItem("dark") === "true") {localStorage.setItem("dark", "false")}
	else {localStorage.setItem("dark", "true")}
	console.log(localStorage.getItem("dark"))
	updateDarkMode();
});







// for christmas mode post
for (let i = 0; i < document.querySelectorAll(".special-christmas-mode-indicator").length; i++) {
	const element = document.querySelectorAll(".special-christmas-mode-indicator")[i];

	element.innerHTML = element.innerHTML.split("").map(letter => {
		return `<span>${letter}</span>`
	}).join("");
	
}