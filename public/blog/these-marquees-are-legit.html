<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-171719946-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-171719946-1');
	</script>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>These marquees are legit \ Blog \ Oliver Norred</title>
	
	<link rel="stylesheet" href="../css/normalize.css">
	<link rel="stylesheet" href="../css/stylesheet.css">
	<link rel="shortcut icon" href="../images/favicon.png" type="image/x-icon">


</head>
<body>
<div class="container">
	<a href="#content" class="skip-link">Skip to content</a>
	<header class="header"></header>
	<div class="content">
		<div class="blogheadernote"><a href="index.html">&larr; back to the archives ü•¨</a></div>
		<div class="blogpost"><h1 id="these-marquees-are-legit">These marquees are legit</h1>
<h2 id="oliver-norred-5-march-2021">Oliver Norred, 5 March 2021</h2>
<p><em>Wow, these marquees are legit.</em></p>
<p>When‚Äôs the last time you heard that? On the web, <code>&lt;marquee&gt;</code> has gotten a bad rap for, like, ten years. It‚Äôs been <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/marquee">deprecated</a> for at least as long as I‚Äôve been making web stuff.</p>
<p>But the truth is, I like them. I like how they pull me away from the sanitized corporate easing functions that <a href="https://material.io/design/motion/understanding-motion.html#principles">Google and Twitter pound into our skulls</a>. I like to stare at them and I like to wait for the text to come around a second time.</p>
<p><marquee>DOESN‚ÄôT THIS MAKE YOU YEARN FOR DAYS GONE BY?</marquee></p>
<p>The loudest moans and groans lament that <code>marquee</code>s are ‚Äúliterally unreadable for a period of time‚Äù and ‚Äúnext to impossible to print.‚Äù I hear you. <a href="https://github.com/olivernorred/legit-marquees">So I made a JavaScript + SVG web component called <code>legit-marquee</code>.</a></p>
<p>These things are legit. The accessibility concerns dissolve because the text is always visible, and you‚Äôre in full control of the animation. With a bit of hacking, you can even make it animate with the scroll position.</p>
<p>I sort of see the web going more retro right now and for the next year or so. I‚Äôm happy with that. I hope this can be of use.</p>
<svg class="legit-marquee" viewBox="-80 -80 1170 760" content="LEGIT." contentrepeat="15" speed="2" textsize="80" pathd="M0,308.472C0,42.37449-21.97408,2.88935,297.72748,2.88935,756.65714,2.88935,1000-47.62774,1000,273.8001c0,281.209,14.092,325.62847-315,325.62847C12.2623,599.42857,0,652.97177,0,308.472Z">
</svg>

<style>
    .legit-marquee {
        font-family: var(--headerfont);
    }
</style>

<script>
document.querySelectorAll("svg.legit-marquee").forEach(el => {
    const amount = (el.getAttribute("contentrepeat")) ? el.getAttribute("contentrepeat") : 1
    console.log(amount)
    const content = el.getAttribute("content").concat(" ").repeat(amount)
    const size = (el.getAttribute("textsize")) ? el.getAttribute("textsize") : 24

    const pathElement =
    `<path id="loop" fill="transparent" d="${el.getAttribute("pathd")}"></path>`

    const textElement =
    `<text width="100%">
         <textPath alignment-baseline="top" xlink:href="#loop" startOffset="0" font-size="${size}" class="movingtextpath">${content}</textPath>
    </text>`
    el.innerHTML = `${pathElement}${textElement.repeat(2)}`


    const path = el.querySelector("#loop")
    const firsttext = el.querySelectorAll(".movingtextpath")[0]
    const secondtext = el.querySelectorAll(".movingtextpath")[1]

    let offset = 0
    const s = parseFloat(el.getAttribute("speed"));
    const direction = s/Math.abs(s)
    function updateTextOffset() {
        offset += parseFloat(el.getAttribute("speed"))
        if(offset > path.getTotalLength() || offset < -path.getTotalLength()) {offset = 0}
        firsttext.setAttribute("startOffset", offset)
        secondtext.setAttribute("startOffset", offset-direction*path.getTotalLength()+.5*direction)
        requestAnimationFrame(updateTextOffset)
    }
    updateTextOffset()
});
</script></div>
		<div class="nextpostlink"><a href="" style="float: left;">&larr; newer</a> <a href="" style="float: right;">older &rarr;</a></div>
		<br>
		<br>
		<form onsubmit="postComment(); return false;" id="commentform">
			<label for="commentername">name:</label><input type="text" id="commentername" autocomplete="off">
			<label for="commentbox">comment:</label>
			<textarea name="commentbox" id="commentbox" cols="50" rows="4"></textarea>
			<input type="submit" value="post comment">
		</form>

		<div id="commentsection"></div>
		
	</div>
		
</div>


<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>

<script>const page = "blog";</script>
<script src="../js/htmlinjector.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="../js/posts.js"></script>
<script src="../js/posttitlelinks.js"></script>
<script src="../js/blogposts.js"></script>
</body>
</html>